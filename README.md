# Linux
Linux 网络编程
1、本地聊天室
    typedef struct node {
        char item[20];  //记录客户端名字
        int fifo_fd;  //该客户端使用的私有管道文件描述符(写端)
        struct node *next;	
    };
    
    发送包结构
    struct MesData {
        int protocal;
        char srcname[20];
        char destname[20];
        char data[100];
    };
    /*
     * protocal     srcname      destname      data
     * 1            登陆者       NULL
     * 2            发送方       接收方         数据
     * 3            NULL(不在线)
     * 4            退出登陆用户（退出登陆）
     */

  服务器 创建一个公共的命名管道（FIFO）,
        当A用户向B用户发送消息，若B在线，则服务器通过公共管道直接把信息传递给B
                              若B不在线，则服务器把信息写在B的私有管道
         用户可以登录/退出登录，服务器即时更新状态                       
  客户端 每个用户都拥有自己的私有管道，每次登录查询自己的私有管道，有消息则打印输出到显示屏
         可以随时给对方发送消息
2、多进程多线程并发通讯 
  使用tcp协议
  在服务器中父进程一直接受消息，创建子进程让其处理消息，子进程处理完 父进程结束子进程；
  在客户端，可支撑多个用户访问服务器
3、多进程copy
  采用共享映射区，源文件和目标文件分别建立映射区，并设置参数将映射信息反应在磁盘上，通过映射区数据的复制完成。
  若文件大小与进程个数不是整数，让前n-1个进程copy整数字节，最后一个进程处理剩余的；
  

